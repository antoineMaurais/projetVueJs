{"ast":null,"code":"import spellView from \"./components/formSpellView.vue\";\nimport checkBoxSelect from \"./components/formCheckBoxSelect.vue\";\nimport data from \"./assets/data.min.js\"; // Lien vers toutes les données\n\nexport default {\n  name: \"App\",\n  components: {\n    spellView,\n    checkBoxSelect\n  },\n  data: function () {\n    return {\n      searchName: \"\",\n      searchNameBox: \"\"\n    };\n  },\n  computed: {\n    spellSearch() {\n      /*On récupère les data de la base JS qu'on importe,\n        On filtre toutes les valeurs\n        On encapsule chaque valeur de nom, ici 'spell[1]' dans une variable 'spell'\n        Qui commence par les valeurs rentrés dans la zone de texte de l'input */\n      console.log(this.searchNameBox);\n      if (this.searchNameBox) return data.filter(spell => spell[1].startsWith(this.searchName));else return [];\n    },\n\n    statistique() {\n      statistiqueSort();\n      statistiqueNbLivreDiff();\n      statistiqueNbEcoleDiff();\n    },\n\n    statistiqueSort() {\n      let value = data.filter(spell => spell[1].startsWith(this.searchName));\n      return value.length;\n    },\n\n    statistiqueNbLivreDiff() {\n      let value = data.filter(spell => spell[1].startsWith(this.searchName));\n      let count = 0;\n      let countArrayArme = [];\n\n      for (const vFor of value) {\n        if (!countArrayArme.includes(vFor[0])) {\n          count++;\n          countArrayArme.push(vFor[0]);\n        }\n      }\n\n      return count;\n    },\n\n    statistiqueNbEcoleDiff() {\n      let value = data.filter(spell => spell[1].startsWith(this.searchName));\n      let count = 0;\n      let countArrayArme = [];\n\n      for (const vFor of value) {\n        if (!countArrayArme.includes(vFor[2])) {\n          count++;\n          countArrayArme.push(vFor[2]);\n        }\n      }\n\n      return count;\n    }\n\n  },\n  methods: {\n    updateSearch(searchName, searchNameBox) {\n      this.searchName = searchName;\n      this.searchNameBox = searchNameBox;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgDA,OAAOA,SAAP,MAAsB,gCAAtB;AACA,OAAOC,cAAP,MAA2B,qCAA3B;AACA,OAAOC,IAAP,MAAiB,sBAAjB,C,CAAyC;;AAEzC,eAAe;AACbC,MAAI,EAAE,KADO;AAEbC,YAAU,EAAE;AACVJ,aADU;AAEVC;AAFU,GAFC;AAMbC,MAAI,EAAE,YAAY;AAChB,WAAO;AAAEG,gBAAU,EAAE,EAAd;AACPC,mBAAY,EAAI;AADT,KAAP;AAED,GATY;AAUbC,UAAQ,EAAE;AACRC,eAAW,GAAG;AACZ;;;;AAIAC,aAAO,CAACC,GAAR,CAAY,KAAKJ,aAAjB;AAEA,UAAG,KAAKA,aAAR,EACE,OAAOJ,IAAI,CAACS,MAAL,CAAaC,KAAD,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASC,UAAT,CAAoB,KAAKR,UAAzB,CAAvB,CAAP,CADF,KAGE,OAAO,EAAP;AACH,KAZO;;AAcRS,eAAW,GACX;AACEC,qBAAe;AACfC,4BAAsB;AACtBC,4BAAsB;AACvB,KAnBO;;AAoBRF,mBAAe,GAAG;AAChB,UAAIG,KAAI,GAAIhB,IAAI,CAACS,MAAL,CAAaC,KAAD,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASC,UAAT,CAAoB,KAAKR,UAAzB,CAAvB,CAAZ;AACA,aAAOa,KAAK,CAACC,MAAb;AACD,KAvBO;;AAwBRH,0BAAsB,GAAG;AACvB,UAAIE,KAAI,GAAIhB,IAAI,CAACS,MAAL,CAAaC,KAAD,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASC,UAAT,CAAoB,KAAKR,UAAzB,CAAvB,CAAZ;AACA,UAAIe,KAAI,GAAI,CAAZ;AACA,UAAIC,cAAa,GAAI,EAArB;;AACA,WAAK,MAAMC,IAAX,IAAmBJ,KAAnB,EAA0B;AACxB,YAAI,CAACG,cAAc,CAACE,QAAf,CAAwBD,IAAI,CAAC,CAAD,CAA5B,CAAL,EAAuC;AACrCF,eAAK;AACLC,wBAAc,CAACG,IAAf,CAAoBF,IAAI,CAAC,CAAD,CAAxB;AACF;AACF;;AACA,aAAOF,KAAP;AACD,KAnCO;;AAoCRH,0BAAsB,GAAG;AACvB,UAAIC,KAAI,GAAIhB,IAAI,CAACS,MAAL,CAAaC,KAAD,IAAWA,KAAK,CAAC,CAAD,CAAL,CAASC,UAAT,CAAoB,KAAKR,UAAzB,CAAvB,CAAZ;AACA,UAAIe,KAAI,GAAI,CAAZ;AACA,UAAIC,cAAa,GAAI,EAArB;;AACA,WAAK,MAAMC,IAAX,IAAmBJ,KAAnB,EAA0B;AACxB,YAAI,CAACG,cAAc,CAACE,QAAf,CAAwBD,IAAI,CAAC,CAAD,CAA5B,CAAL,EAAuC;AACrCF,eAAK;AACLC,wBAAc,CAACG,IAAf,CAAoBF,IAAI,CAAC,CAAD,CAAxB;AACF;AACF;;AACA,aAAOF,KAAP;AACD;;AA/CO,GAVG;AA2DbK,SAAO,EAAE;AACPC,gBAAY,CAACrB,UAAD,EAAaC,aAAb,EAA2B;AACrC,WAAKD,UAAL,GAAkBA,UAAlB;AACA,WAAKC,aAAL,GAAqBA,aAArB;AACF;;AAJO;AA3DI,CAAf","names":["spellView","checkBoxSelect","data","name","components","searchName","searchNameBox","computed","spellSearch","console","log","filter","spell","startsWith","statistique","statistiqueSort","statistiqueNbLivreDiff","statistiqueNbEcoleDiff","value","length","count","countArrayArme","vFor","includes","push","methods","updateSearch"],"sourceRoot":"","sources":["/home/uhartegr/Documents/Ecole_Ingé_Enssat/IMR1/Période_3/Technologie_web/VueJS/projet-vue/src/App.vue"],"sourcesContent":["<template>\n  <HelloWorld msg=\"Sorts :\" />\n\n  <h1>Wiki des sorts</h1>\n  <h4>Il faut lier la checkbox à la zone de texte pour mettre à jour ou non</h4>\n  <h4>Ca marche avec searchnameBox</h4>\n  <table>\n    <th></th>\n    <th>Prendre en compte</th>\n    <tr>\n      <checkBoxSelect @spellSearch=\"updateSearch\" />\n    </tr>\n  </table>\n  <br />\n\n  <table>\n    <tr>\n      <th>Nombre de livres</th>\n      <th>Nombre de sorts</th>\n      <th>Nombre d'écoles</th>\n    </tr>\n    <tr>\n      <td>{{ statistique }}</td>\n      <td>{{ statistique }}</td>\n      <td>{{ statistique }}</td>\n    </tr>\n  </table>\n\n  <table>\n    <tr>\n      <th>Arme</th>\n      <th>Nom</th>\n      <th>Ecole</th>\n      <th>Classe</th>\n    </tr>\n    <!--  On boucle des lignes de tableau\n          Chaque entité de spellSearch va être stocké dans spellFor\n          Puis on met une clé pour dire sur quoi on boucle, ici le nom, mais c'est inutile dans notre cas\n    -->\n\n    <tr v-for=\"spellFor in spellSearch\" :key=\"spellFor[1]\">\n      <!--On appel l'élément spell de spellView et on lui donne la valeur de spellFor pour qu'il travaille avec -->\n      <spellView :spell=\"spellFor\" />\n    </tr>\n  </table>\n</template>\n\n<script>\nimport spellView from \"./components/formSpellView.vue\";\nimport checkBoxSelect from \"./components/formCheckBoxSelect.vue\";\nimport data from \"./assets/data.min.js\"; // Lien vers toutes les données\n\nexport default {\n  name: \"App\",\n  components: {\n    spellView,\n    checkBoxSelect,\n  },\n  data: function () {\n    return { searchName: \"\",\n    searchNameBox : \"\" };\n  },\n  computed: {\n    spellSearch() {\n      /*On récupère les data de la base JS qu'on importe,\n        On filtre toutes les valeurs\n        On encapsule chaque valeur de nom, ici 'spell[1]' dans une variable 'spell'\n        Qui commence par les valeurs rentrés dans la zone de texte de l'input */\n      console.log(this.searchNameBox);\n\n      if(this.searchNameBox)\n        return data.filter((spell) => spell[1].startsWith(this.searchName));\n      else \n        return [];\n    },\n\n    statistique()\n    {\n      statistiqueSort();\n      statistiqueNbLivreDiff();\n      statistiqueNbEcoleDiff();\n    },\n    statistiqueSort() {\n      let value = data.filter((spell) => spell[1].startsWith(this.searchName));\n      return value.length;\n    },\n    statistiqueNbLivreDiff() {\n      let value = data.filter((spell) => spell[1].startsWith(this.searchName));\n      let count = 0;\n      let countArrayArme = [];\n      for (const vFor of value) {\n        if (!countArrayArme.includes(vFor[0])) {\n          count++;\n          countArrayArme.push(vFor[0]);\n        }\n      }\n      return count;\n    },\n    statistiqueNbEcoleDiff() {\n      let value = data.filter((spell) => spell[1].startsWith(this.searchName));\n      let count = 0;\n      let countArrayArme = [];\n      for (const vFor of value) {\n        if (!countArrayArme.includes(vFor[2])) {\n          count++;\n          countArrayArme.push(vFor[2]);\n        }\n      }\n      return count;\n    },\n  },\n  methods: {\n    updateSearch(searchName, searchNameBox){\n      this.searchName = searchName;\n      this.searchNameBox = searchNameBox;\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\ntable {\n  margin-top: 20px;\n  margin-left: auto;\n  margin-right: auto;\n}\nth {\n  padding: 5px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}